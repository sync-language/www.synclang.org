<!doctype html>
<html lang="en-CA">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="Sync" content="Sync Programming Language" />

    <title>Sync Programming Language</title>
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="stylesheet" href="style.css" />
    <script defer src="https://cdn.jsdelivr.net/npm/lz-string@1.5.0/libs/lz-string.min.js"></script>
    <script defer>
        function runInPlayground(button) {
            const codeBlock = button.parentElement.querySelector('.code-block code');
            const code = codeBlock.textContent.trim();

            // Ensure LZString is loaded
            if (typeof LZString === 'undefined') {
                console.error('LZString not loaded yet');
                return;
            }

            const compressed = LZString.compressToEncodedURIComponent(code);
            const url = `play/?code=${compressed}`;

            window.open(url, '_blank');
        }

        // Show/hide navbar logo based on scroll position
        window.addEventListener('scroll', function() {
            const heroSection = document.querySelector('.hero');
            const navbarLogo = document.querySelector('.sync-logo-nav');

            if (heroSection && navbarLogo) {
                const heroRect = heroSection.getBoundingClientRect();
                // If hero is scrolled off the page (bottom of hero is above viewport)
                if (heroRect.bottom < 0) {
                    navbarLogo.classList.add('show');
                } else {
                    navbarLogo.classList.remove('show');
                }
            }
        });
    </script>
</head>

<body>
    <div class="navbar">
        <div class="sync-logo-nav">
            <div onclick="location.href='#';" style="cursor: pointer; display: flex; flex-direction: row;">
                <img src="assets/sync-logo.png" alt="Sync Logo" class="sync-logo-within-nav">
            </div>
        </div>
        <div class="non-logo-nav">
            <a href="https://github.com/sync-language/sync" class="navbar-item">Source</a>
        </div>
        <div class="empty-right-nav">
        </div>

    </div>
    <section class="hero">
        <div class="hero-inner">
            <div class="hero-title-container">
                <img src="assets/sync-logo.png" alt="Sync Logo" class="hero-logo">
                <h2>Sync</h2>
            </div>
            <p class="sync-desc">Safely embeddable, natively multithreaded</p>
            <div class="hero-buttons">
                <button class="hero-button"
                    onclick="window.open('https://github.com/sync-language/sync', '_blank');">Getting Started</button>
                <button class="hero-button" onclick="window.open('play/', '_blank');">Try It Online</button>
            </div>
        </div>
    </section>
    <section class="look-at">
        <div class="look-at-container">
            <div class="why">
                <h1 class="look-at-header">Embeddable</h1>
                <p class="look-at-text">Sync is lightweight, being embeddable with a simple API and native support for
                    C, C++, Rust, and Zig. It works on all platforms with a C++17 or higher compiler.</p>
                <h1 class="look-at-header">Multithreading</h1>
                <p class="look-at-text">Sync supports running all built code in parallel, without data races and
                    deadlocks. It can utilize all available CPU process power.</p>
                <h1 class="look-at-header">Safety</h1>
                <p class="look-at-text"><strong class="thread-safety-is-memory-safety">Thread safety is memory safety.
                    </strong>Sync's ownership model, static typing, and robust synchronization logic guarantees modern,
                    compile-time safety and secure communication with its host program.</p>
                <h1 class="look-at-header">Simple</h1>
                <p class="look-at-text">Sync uses the C struct memory layout and no garbage collector for seamless data
                    exchange without translation layers. It is deterministic, using move semantics and destructors.</p>
                <h1 class="look-at-header">Flexibility</h1>
                <p class="look-at-text">Sync code compiles on demand during runtime, offering maximum program
                    flexibility.</p>
            </div>
            <div class="code-examples">
                <div class="code-block-wrapper">
                    <button class="run-code-btn" onclick="runInPlayground(this)">Run â–¶</button>
                    <div class="code-window-header">
                        <div class="window-controls">
                            <div class="window-control"></div>
                            <div class="window-control"></div>
                            <div class="window-control"></div>
                        </div>
                        <img src="assets/sync-editor-icon.png" alt="Sync icon" class="window-icon">
                        <span class="window-title">main.sync</span>
                    </div>
                    <div class="code-block"><code><span class="c">// Mutable global variable</span>
<span class="c">// Compiler enforces thread safety with the `Owned` modifier</span>
<span class="k">mut</span> <span class="i">counter</span><span class="s">:</span> <span class="k">Owned </span><span class="t">i32</span><span class="s"> =</span> <span class="v">0</span><span class="s">;</span>

<span class="k">fn</span> <span class="f">addOne</span><span class="s">() {</span>
  <span class="k">for</span> <span class="i">i</span> <span class="k">in</span> <span class="v">0</span><span class="s">..</span><span class="v">10000</span> <span class="s">{</span> <span class="c">// Iterates 0, 1, 2, .. 9999</span>
    <span class="c">// Acquire a read-write (exclusive) lock</span>
    <span class="k">sync mut</span> <span class="i">counter</span> <span class="s">{</span>
      <span class="i">counter</span> <span class="s">+=</span> <span class="v">1</span><span class="s">;</span>
    <span class="s">}</span>
  <span class="s">}</span>
<span class="s">}</span>

<span class="k">fn</span> <span class="f">addTwo</span><span class="s">(</span><span class="i">n</span><span class="s">:</span> <span class="t">usize</span><span class="s">) {</span>
  <span class="k">for</span> <span class="i">i</span> <span class="k">in</span> <span class="v">0</span><span class="s">..</span><span class="i">n</span> <span class="s">{</span> <span class="c">// Iterates [0, n)</span>
    <span class="c">// Acquire a read-write (exclusive) lock</span>
    <span class="k">sync mut</span> <span class="i">counter</span> <span class="s">{</span>
      <span class="i">counter</span> <span class="s">+=</span> <span class="v">2</span><span class="s">;</span>
    <span class="s">}</span>
  <span class="s">}</span>
<span class="s">}</span>

<span class="k">fn</span> <span class="f">main</span><span class="s">() {</span>
  <span class="s">{</span>
    <span class="k">const</span> <span class="i">t1</span> <span class="s">=</span> <span class="t">Thread</span><span class="s">.</span><span class="f">spawn</span><span class="s">(</span><span class="f">addOne</span><span class="s">);</span>
    <span class="k">const</span> <span class="i">t2</span> <span class="s">=</span> <span class="t">Thread</span><span class="s">.</span><span class="f">spawn</span><span class="s">(</span><span class="f">addTwo</span><span class="s">,</span> <span class="v">20000</span><span class="s">);</span>
  <span class="s">}</span>

  <span class="c">// Acquire a read-only (shared) lock</span>
  <span class="k">sync</span> <span class="i">counter</span> <span class="s">{</span>
    <span class="f">print</span><span class="s">(</span><span class="i">counter</span><span class="s">);</span> <span class="c">// 50000</span>
  <span class="s">}</span>
<span class="s">}</span></code></div>
                </div>
            </div>
        </div>
    </section>
    <section class="get-involved">
        <div class="get-involved-container">
        </div>
    </section>
    <section class="roadmap">
        <div class="roadmap-container">
            <h1 class="roadmap-title">Roadmap</h1>
            <div class="roadmap-cards">
                <div class="roadmap-card">
                    <h2>Version 0.1.0</h2>
                    <p><strong>COMING SOON! </strong>Necessary primitives, robust error handling, powerful
                        synchronization system (including deadlock detection), compiler, and interpreter.</p>
                </div>
                <div class="roadmap-card">
                    <h2>Package Manager</h2>
                    <p>Build a native package manager for Sync for easy sharing and integration. Minimizing supply chain
                        attacks is a top priority.</p>
                </div>
                <div class="roadmap-card">
                    <h2>LSP</h2>
                    <p>Both the language server, and clients for popular code editors.</p>
                </div>
                <div class="roadmap-card">
                    <h2>Video Game Console Support</h2>
                    <p>As an embeddable language, supporting all possible targets is a priority. In theory, it should
                        work, but testing must be done.</p>
                </div>
                <div class="roadmap-card">
                    <h2>JIT Compiler</h2>
                    <p>For platforms that support it, a JIT compiler will push Sync to be the language of choice for
                        extending applications.</p>
                </div>
            </div>
        </div>
    </section>
</body>

</html>